<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leptos POC - Component Library Integration</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2d3748;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #718096;
            font-size: 18px;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .comparison-box {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .comparison-box h2 {
            margin-bottom: 15px;
            font-size: 20px;
        }

        .comparison-box.old h2 {
            color: #e53e3e;
        }

        .comparison-box.new h2 {
            color: #38a169;
        }

        .comparison-box pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 13px;
            line-height: 1.5;
        }

        #component-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            min-height: 400px;
        }

        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 20px;
            border-radius: 8px;
            margin: 20px;
        }

        .loading {
            text-align: center;
            padding: 60px;
            color: #4a5568;
        }

        .spinner {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß¨ Leptos + Leptonic POC</h1>
            <p class="subtitle">
                Proof-of-concept: AI-generated components using Leptos framework + Leptonic UI library
            </p>
        </header>

        <div class="comparison">
            <div class="comparison-box old">
                <h2>‚ùå Old Approach (Raw HTML)</h2>
                <pre><code>// What we DON'T want:
root.set_inner_html(&format!(r#"
  &lt;div style="padding: 40px;"&gt;
    &lt;h1 style="font-size: 72px;"&gt;{}&lt;/h1&gt;
    &lt;button onclick="..."
            style="padding: 12px;
                   background: #ef4444;"&gt;
      - Decrement
    &lt;/button&gt;
  &lt;/div&gt;
"#, count));</code></pre>
            </div>

            <div class="comparison-box new">
                <h2>‚úÖ New Approach (Leptos + Leptonic)</h2>
                <pre><code>// What we WANT:
view! { cx,
  &lt;Stack spacing=Size::Em(2.0)&gt;
    &lt;H1&gt;{count}&lt;/H1&gt;
    &lt;Button
      color=ButtonColor::Danger
      on_press=decrement&gt;
      "- Decrement"
    &lt;/Button&gt;
  &lt;/Stack&gt;
}</code></pre>
            </div>
        </div>

        <div id="component-container">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading Leptos component...</p>
            </div>
        </div>
    </div>

    <script type="module">
        async function loadComponent() {
            try {
                // Import the WASM module generated by wasm-pack
                const { mount } = await import('../pkg/leptos_poc.js');

                // Clear loading message
                document.getElementById('component-container').innerHTML = '';

                // Mount the Leptos component
                mount();

                console.log('‚úÖ Leptos component mounted successfully!');
            } catch (error) {
                console.error('‚ùå Failed to load component:', error);
                document.getElementById('component-container').innerHTML = `
                    <div class="error">
                        <h2>Failed to load component</h2>
                        <p>${error.message}</p>
                        <p style="margin-top: 10px; font-size: 14px;">
                            Make sure you've built the component with:
                            <code>wasm-pack build --target web --release</code>
                        </p>
                    </div>
                `;
            }
        }

        // Load component when page is ready
        loadComponent();
    </script>
</body>
</html>
